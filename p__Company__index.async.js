"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[680],{96543:function(F,E,n){n.r(E);var M=n(30279),D=n.n(M),O=n(35290),s=n.n(O),g=n(411),c=n.n(g),T=n(46686),y=n.n(T),v=n(67116),i=n(39722),R=n(66268),m=n(5223),b=n(81656),U=n(39286),f=n(93236),r=n(62086),A=v.Z.ProductsController.deleteProduct,h=v.Z.CompanyController,B=h.getCompanys,I=h.createCompany,j=h.deleteCompany,K=function(){var p=(0,f.useRef)(),W=(0,f.useState)(!1),P=y()(W,2),w=P[0],C=P[1],L=[{title:"id",dataIndex:"id",valueType:"text",hideInSearch:!0,width:60},{title:"\u516C\u53F8\u540D\u79F0",dataIndex:"companyName",hideInSearch:!0,valueType:"text"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",align:"right",render:function(a,o){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(R.Z,{title:"\u786E\u8BA4\u5220\u9664\uFF1F",okText:"Yes",cancelText:"No",onConfirm:function(){var t=m.ZP.loading("\u8BBE\u7F6E\u4E2D");j(o.id),setTimeout(function(){var _;(_=p.current)===null||_===void 0||_.reload(),t()},300)},children:(0,r.jsx)("a",{children:"\u5220\u9664"})})})}}],z=function(){var u=c()(s()().mark(function a(o){var e,t;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return e=o.id,l.next=3,A(e);case 3:t=l.sent,console.log("\u5220\u9664",t);case 5:case"end":return l.stop()}},a)}));return function(o){return u.apply(this,arguments)}}();return(0,r.jsxs)(i._zJ,{header:{title:"\u516C\u53F8\u7BA1\u7406"},children:[(0,r.jsx)(i.QVr,{headerTitle:"\u516C\u53F8\u5217\u8868",actionRef:p,rowKey:"id",search:{labelWidth:120},toolbar:{},toolBarRender:function(){return[(0,r.jsx)(b.Z,{type:"primary",onClick:function(){return C(!0)},children:"\u65B0\u5EFA\u516C\u53F8"},"1")]},request:function(){var u=c()(s()().mark(function a(o){var e;return s()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,B(D()({},o));case 2:return e=_.sent,console.log("\u516C\u53F8\u4FE1\u606F",e),_.abrupt("return",{data:(e==null?void 0:e.data)||[],total:(e==null?void 0:e.data.length)||0,success:(e==null?void 0:e.code)==0});case 5:case"end":return _.stop()}},a)}));return function(a){return u.apply(this,arguments)}}(),columns:L}),(0,r.jsx)(U.Z,{open:w,footer:null,children:(0,r.jsx)(i.A96,{onFinish:function(){var u=c()(s()().mark(function a(o){var e,t,_;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("values",o),e=m.ZP.loading("\u63D0\u4EA4\u4E2D..."),d.next=4,I(o);case 4:t=d.sent,console.log("\u521B\u5EFA\u516C\u53F8\u4FE1\u606F",t),t.code==0?(e(),m.ZP.success("\u521B\u5EFA\u6210\u529F"),C(!1),(_=p.current)===null||_===void 0||_.reload()):m.ZP.error(t.data.errorMsg);case 7:case"end":return d.stop()}},a)}));return function(a){return u.apply(this,arguments)}}(),children:(0,r.jsx)(i.VaQ,{width:"md",name:"companyName",label:"\u516C\u53F8\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u516C\u53F8\u540D\u79F0",rules:[{required:!0,message:"\u5FC5\u586B"}]})})})]})};E.default=K}}]);
